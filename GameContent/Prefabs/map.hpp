//
//
//
//


#include "Entity.hpp"
#include "EntityManager.hpp"
#include "Seedbank/AssetManager.hpp"

#include "Component.hpp"
#include "GameComponents.hpp"

#include <cstddef>
#include <memory>

namespace Prefab
{
    class Map
    {
        private:
            void init(const Inst& inst);
            
            size_t M_MAP_WIDTH = 61; // tiles
            size_t M_MAP_HEIGHT = 31; // tiles
            
            /*
                TILES:
                0 = empty
                1 = TL corner
                2 = T middle
                3 = TR corner
                4 = TL inner corner
                5 = TR inner corner
                6 = L middle
                7 = full dirt
                8 = R middle
                9 = BL inner corner
                A = BR inner corner
                B = BL corner
                C = B middle
                D = BR corner
            */
            
            const char* m_tileset = "\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000122223000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000122222222222222222222222222222222222222222222230000000\
0000000677777777777777777777777777777777777777777777780000000\
0000000677777777777777777777777777777777777777777777780000000\
0000000677777777777777777777777777777777777777777777780000000\
0000000677777777777777777777777777777777777777777777780000000\
0000000677777777777777777777777777777777777777777777780000000\
0000000677777777777777777777777777777777777777777777780000000\
0000000677777777777777777777777777777777777777777777780000000";
            
        public:
            Map(const Inst& inst);
            static auto SpawnTiles(const Inst& inst, const std::shared_ptr<EntityManager>& entity_manager) -> void;
    };
    
}

