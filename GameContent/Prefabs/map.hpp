//
//
//
//


#include "Entity.hpp"
#include "EntityManager.hpp"
#include "Seedbank/AssetManager.hpp"

#include "Component.hpp"
#include "GameComponents.hpp"

#include <cstddef>
#include <memory>

namespace Prefab
{
    class Map
    {
        private:
            void init(const Inst& inst);
            
            size_t M_MAP_WIDTH = 61; // tiles
            size_t M_MAP_HEIGHT = 31; // tiles
            
            /*
                TILES:
                0 = empty
                1 = TL corner
                2 = T middle
                3 = TR corner
                4 = L middle
                5 = full dirt
                6 = R middle
                7 = BL corner
                8 = B middle
                9 = BR corner
                A = TL inner corner
                B = TR inner corner
                C = BL inner corner
                D = BR inner corner
            */
            
            const char* m_tileset = "\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000122223000000000000\
0000000000000000000000000000000000000000000788889000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000\
0000000122222222222222222222222222222222222222222222230000000\
0000000455555555555555555555555555555555555555555555560000000\
0000000455555555555555555555555555555555555555555555560000000\
0000000455555555555555555555555555555555555555555555560000000\
0000000455555555555555555555555555555555555555555555560000000\
0000000455555555555555555555555555555555555555555555560000000\
0000000455555555555555555555555555555555555555555555560000000\
0000000455555555555555555555555555555555555555555555560000000";
            
        public:
            Map(const Inst& inst);
            static auto SpawnTiles(const Inst& inst, const std::shared_ptr<EntityManager>& entity_manager) -> void;
    };
    
}

